"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[467],{8467:(et,S,s)=>{s.r(S),s.d(S,{UnicornsModule:()=>tt});var w=s(1635),l=s(7155),D=s(9798),t=s(4650),U=s(1281),p=s(3238),C=s(7579);s(7340);const T=new t.OlP("MAT_SORT_DEFAULT_OPTIONS"),x=(0,p.dB)((0,p.Id)(class{}));let I=(()=>{class i extends x{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new C.x,this.start="asc",this._direction="",this.sortChange=new t.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=(0,U.Ig)(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let a=function Z(i,r){let e=["asc","desc"];return"desc"==i&&e.reverse(),r||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),c=a.indexOf(this.direction)+1;return c>=a.length&&(c=0),a[c]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[t.qOj,t.TTD]}),i})();var d=s(5412),g=s(529),b=s(2340);class m{}m.API_BASE_URL=b.N.apiBaseUrl,m.API_ID=b.N.apiId;let y=(()=>{class i{constructor(e){this.http=e,this.resourceUrl=m.API_BASE_URL,this.resourceID=m.API_ID}queryUnicorns(){return this.http.get(this.resourceUrl+"/"+this.resourceID+"/unicorns",{observe:"response"})}getUnicorn(e){return this.http.get(this.resourceUrl+"/"+this.resourceID+"/unicorns/"+e,{observe:"response"})}postUnicorn(e){let n=new g.WM({"Content-Type":"application/json"});return this.http.post(this.resourceUrl+"/"+this.resourceID+"/unicorns",e,{headers:n,observe:"response"})}putUnicorn(e,n){let a=new g.WM({"Content-Type":"application/json"});return delete e._id,this.http.put(this.resourceUrl+"/"+this.resourceID+"/unicorns/"+n,e,{headers:a,observe:"response"})}deleteUnicorn(e){return this.http.delete(this.resourceUrl+"/"+this.resourceID+"/unicorns/"+e,{observe:"response"})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(g.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=s(4859),A=s(7392),h=s(4006),M=s(9549),H=s(4144);let O=(()=>{class i{constructor(){this.inputData=new t.vpe,this.timeout=null}ngOnInit(){}captureValue(e){clearTimeout(this.timeout);const n=this;this.timeout=setTimeout(function(){13!=e.keyCode&&(n.val=e.target.value,n.updateValue())},1e3)}updateValue(){this.inputData.emit(this.val)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-input-data-component"]],inputs:{ph:"ph",typeInput:"typeInput",val:"val"},outputs:{inputData:"inputData"},decls:4,vars:4,consts:[["appearance","fill"],["matInput","","required","","autocomplete","off",3,"name","type","ngModel","keyup","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1),t.NdJ("keyup",function(c){return n.captureValue(c)})("ngModelChange",function(c){return n.val=c}),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.ph?n.ph:""),t.xp6(1),t.Q6J("name",n.ph?n.ph:"value")("type",n.typeInput?n.typeInput:"text")("ngModel",n.val))},dependencies:[h.Fj,h.JJ,h.Q7,h.On,M.KE,M.hX,H.Nt],encapsulation:2}),i})(),B=(()=>{class i{constructor(e,n,a){this.dialogRef=e,this.unicorn=n,this.unicornsService=a}ngOnInit(){this.unicorn||(this.unicorn={name:"",age:void 0,colour:""})}getData(e){this.unicorn.name=e}getColor(e){this.unicorn.colour=e}getEdad(e){this.unicorn.age=e}save(){this.unicorn&&this.unicorn._id?this.unicornsService.putUnicorn(this.unicorn,this.unicorn._id).subscribe(e=>{this.dialogRef.close(e.status)}):this.unicornsService.postUnicorn(this.unicorn).subscribe(e=>{this.dialogRef.close(e.status),console.log(e.body)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unicorns-update"]],decls:19,vars:11,consts:[["fxLayout","row","fxLayoutAlign","start center","mat-dialog-title",""],["fxFlex","auto",1,"title","m-0"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[1,"mx-6","text-border"],["fxLayout","column",1,"my-6"],[1,"example-container"],["ngForm","ngForm"],[2,"margin-right","10px",3,"ph","typeInput","val","inputData"],[3,"ph","typeInput","val","inputData"],["mat-button","","color","primary","type","button",3,"disabled","click"],["align","end"],["mat-button","","cdkFocusInitial","","color","warn","type","button","mat-dialog-close",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon"),t._uU(5,"close"),t.qZA()()(),t._UZ(6,"mat-divider",3),t.TgZ(7,"mat-dialog-content",4)(8,"form",5,6)(10,"app-input-data-component",7),t.NdJ("inputData",function(c){return n.getData(c)}),t.qZA(),t.TgZ(11,"app-input-data-component",8),t.NdJ("inputData",function(c){return n.getColor(c)}),t.qZA(),t.TgZ(12,"app-input-data-component",8),t.NdJ("inputData",function(c){return n.getEdad(c)}),t.qZA(),t.TgZ(13,"button",9),t.NdJ("click",function(){return n.save()}),t._uU(14,"Guardar"),t.qZA()()(),t._UZ(15,"mat-divider",3),t.TgZ(16,"mat-dialog-actions",10)(17,"button",11),t._uU(18,"Cerrar"),t.qZA()()),2&e){const a=t.MAs(9);t.xp6(2),t.Oqu((null==n.unicorn?null:n.unicorn.name)||"Crar unicornio"),t.xp6(8),t.Q6J("ph","Nombre")("typeInput","text")("val",null==n.unicorn?null:n.unicorn.name),t.xp6(1),t.Q6J("ph","Color")("typeInput","text")("val",null==n.unicorn?null:n.unicorn.colour),t.xp6(1),t.Q6J("ph","Edad")("typeInput","number")("val",null==n.unicorn?null:n.unicorn.age),t.xp6(1),t.Q6J("disabled",a.invalid)}},dependencies:[v.lW,A.Hw,h._Y,h.JL,h.F,d.ZT,d.uh,d.xY,d.H8,O],encapsulation:2}),i})();var f=s(3546);let N=(()=>{class i{constructor(e){this.unicorn=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unicorns-view"]],decls:20,vars:4,consts:[["fxLayout","row","fxLayoutAlign","start center","mat-dialog-title",""],["fxFlex","auto",1,"title","m-0"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[1,"mx-6","text-border"],["fxLayout","column",1,"my-6"],[1,"example-card"],["align","end"],["mat-button","","cdkFocusInitial","","color","warn","type","button","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon"),t._uU(5,"close"),t.qZA()()(),t._UZ(6,"mat-divider",3),t.TgZ(7,"mat-dialog-content",4)(8,"mat-card",5)(9,"mat-card-title"),t._uU(10),t.qZA(),t.TgZ(11,"mat-card-subtitle"),t._uU(12),t.qZA(),t.TgZ(13,"mat-card-content")(14,"p"),t._uU(15),t.qZA()()()(),t._UZ(16,"mat-divider",3),t.TgZ(17,"mat-dialog-actions",6)(18,"button",7),t._uU(19,"Cerrar"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(null==n.unicorn?null:n.unicorn.name),t.xp6(8),t.Oqu(null==n.unicorn?null:n.unicorn.name),t.xp6(2),t.Oqu(null==n.unicorn?null:n.unicorn.age),t.xp6(3),t.Oqu(null==n.unicorn?null:n.unicorn.colour))},dependencies:[v.lW,A.Hw,d.ZT,d.uh,d.xY,d.H8,f.a8,f.dn,f.n5,f.$j],encapsulation:2}),i})();var E=s(3683);function P(i,r){1&i&&(t.TgZ(0,"th",16),t._uU(1," ID "),t.qZA())}function Y(i,r){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e._id," ")}}function j(i,r){1&i&&(t.TgZ(0,"th",16),t._uU(1," Nombre "),t.qZA())}function F(i,r){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function V(i,r){1&i&&(t.TgZ(0,"th",16),t._uU(1," Color "),t.qZA())}function k(i,r){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.colour," ")}}function J(i,r){1&i&&(t.TgZ(0,"th",16),t._uU(1," Edad "),t.qZA())}function q(i,r){if(1&i&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.age," ")}}function $(i,r){1&i&&t._UZ(0,"th",16)}function L(i,r){1&i&&t._UZ(0,"td",18)}function Q(i,r){1&i&&t._UZ(0,"tr",19)}function X(i,r){1&i&&t._UZ(0,"tr",20)}const W=function(){return[5,10,20]},z=[{path:"",component:(()=>{class i{constructor(e,n){this.unicornsService=e,this.dialog=n,this.unicorns=[],this.displayedColumns=["_id","name","color","edad","actions"],this.dataSource=new l.by}ngOnInit(){this.unicornsService.queryUnicorns().subscribe(e=>{e.body&&(console.log(e.body),this.unicorns=e.body,this.dataSource.data=this.unicorns,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)})}editUnicorn(e){this.dialog.open(B,{data:e,width:"600px"}).afterClosed().subscribe(a=>{(200===a||201===a)&&(console.log(a),this.ngOnInit())})}viewUnicorn(e){this.unicornsService.getUnicorn(e).subscribe(n=>{n.body&&(console.log(n.body),this.dialog.open(N,{data:n.body,width:"600px"}))})}deleteUnicorn(e){this.unicornsService.deleteUnicorn(e).subscribe(n=>{200===n.status&&this.ngOnInit()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y),t.Y36(d.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unicorns"]],viewQuery:function(e,n){if(1&e&&(t.Gf(I,5),t.Gf(D.NW,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.sort=a.first),t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:27,vars:5,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"mat-elevation-z3"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","_id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","color"],["matColumnDef","edad"],["matColumnDef","actions"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",2,"text-align","center"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),t._uU(3,"CRUD"),t.qZA(),t._UZ(4,"div",1),t.TgZ(5,"button",2),t.NdJ("click",function(){return n.editUnicorn()}),t._uU(6,"Crear"),t.qZA()(),t.TgZ(7,"div",3)(8,"table",4),t.ynx(9,5),t.YNc(10,P,2,0,"th",6),t.YNc(11,Y,2,1,"td",7),t.BQk(),t.ynx(12,8),t.YNc(13,j,2,0,"th",6),t.YNc(14,F,2,1,"td",7),t.BQk(),t.ynx(15,9),t.YNc(16,V,2,0,"th",6),t.YNc(17,k,2,1,"td",7),t.BQk(),t.ynx(18,10),t.YNc(19,J,2,0,"th",6),t.YNc(20,q,2,1,"td",7),t.BQk(),t.ynx(21,11),t.YNc(22,$,1,0,"th",6),t.YNc(23,L,1,0,"td",12),t.BQk(),t.YNc(24,Q,1,0,"tr",13),t.YNc(25,X,1,0,"tr",14),t.qZA(),t._UZ(26,"mat-paginator",15),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,W)))},dependencies:[E.Ye,v.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,D.NW],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:10px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}th[_ngcontent-%COMP%]{width:20%}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()}];let G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[w.Bz.forChild(z),w.Bz]}),i})();var K=s(9842);let tt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[G,K.m]}),i})()}}]);